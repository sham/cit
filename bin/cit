#!/usr/bin/env node

const cac = require('cac')
const shell = require('shelljs')

if (!shell.which('git')) {
  shell.echo('Cit requires Git.')
  shell.exit(0)
}

const cli = cac()

cli.command('init', {
  desc: 'git init'
}, () => {
  shell.exec('git init')
})

cli.command('clone', {
  desc: 'git clone',
  examples: ['cit clone https://github.com/shamofu/cit.git']
}, (input) => {
  switch (input.length) {
    case 1: {
      shell.exec(`git clone ${input[0]}`)
      break
    }
    default: {
      shell.echo('This command needs just one valid argument.')
    }
  }
})

cli.command('*', {
  desc: 'default'
}, () => {
  shell.echo('This is Cit.')
})

cli.parse()